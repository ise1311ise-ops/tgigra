<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–í—Ä–µ–º—è –º–æ–ª–∏—Ç–≤</title>

  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#06101e">

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <div class="bg">
      <img class="bg-img" src="bg_main.png" alt="">
      <div class="bg-vignette"></div>
    </div>

    <!-- TOP BAR -->
    <header class="topbar">
      <button class="iconbtn" id="btnMenu" aria-label="–ú–µ–Ω—é">
        <span class="ico ico-menu"></span>
      </button>

      <div class="top-title">
        <div class="top-title-text" id="topTitle">–í—Ä–µ–º—è –º–æ–ª–∏—Ç–≤</div>
      </div>

      <button class="iconbtn" id="btnSettings" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
        <span class="ico ico-gear"></span>
      </button>
    </header>

    <!-- CONTENT -->
    <main class="content">

      <!-- SCREEN: PRAYERS -->
      <section class="screen active" id="screenPrayers">
        <div class="glass hero">
          <button class="iconbtn small hero-gear" id="btnHeroGear" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            <span class="ico ico-gear"></span>
          </button>

          <div class="hero-mid">
            <div class="hero-sub">–î–æ —Å–ª–µ–¥—É—é—â–µ–π –º–æ–ª–∏—Ç–≤—ã</div>
            <div class="hero-time" id="countdown">--:--:--</div>
          </div>

          <div class="hero-right">
            <div class="hero-next">–¥–æ <span id="nextPrayerName">‚Äî</span></div>
          </div>
        </div>

        <div class="section-label">–ú–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–ª–∏—Ç–≤</div>

        <div class="chips" id="chips">
          <button class="chip" data-method="ISNA">ISNA</button>
          <button class="chip" data-method="MWL">MWL</button>
          <button class="chip active" data-method="Umm al-Qura">Umm al-Qura</button>
          <button class="chip" data-method="Egypt">Egypt</button>
          <button class="chip" data-method="Moonsighting">Moonsighting</button>
        </div>

        <div class="list" id="prayerList"></div>

        <div class="glass hintbox">
          <div class="hintline">
            <span class="dot-mini"></span>
            <div class="hinttext">
              –î–ª—è —Ç–æ—á–Ω—ã—Ö –≤—Ä–µ–º—ë–Ω –Ω–∞–∂–º–∏ <b>–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é</b>.
            </div>
          </div>

          <div class="btnrow">
            <button class="btn" id="btnGeo">–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é</button>
            <button class="btn ghost" id="btnRefresh">–û–±–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–∞</button>
          </div>
        </div>
      </section>

      <!-- SCREEN: QIBLA -->
      <section class="screen" id="screenQibla">
        <div class="q-title">–ö–∏–±–ª–∞</div>
        <div class="q-sub" id="qCity">üìç ‚Äî</div>

        <div class="q-stage">
          <div class="q-compass">
            <img class="q-compass-img" src="kompas.png" alt="–ö–æ–º–ø–∞—Å">
            <img class="q-arrow" id="qArrow" src="strelka.png" alt="–°—Ç—Ä–µ–ª–∫–∞">
          </div>
        </div>

        <div class="glass q-panel">
          <div class="q-row">
            <div class="k">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ö–∏–±–ª—É</div>
            <div class="v"><span id="qBearing">‚Äî</span>¬∞</div>
          </div>
          <div class="q-row">
            <div class="k">–ü–æ–≤–æ—Ä–æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div>
            <div class="v"><span id="qHeading">‚Äî</span>¬∞</div>
          </div>

          <div class="divider"></div>

          <div class="q-note" id="qNote">
            –ù–∞–∂–º–∏ ‚Äú–î–∞—Ç—á–∏–∫–∏‚Äù, —á—Ç–æ–±—ã —Å—Ç—Ä–µ–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–∞–∫ –∫–æ–º–ø–∞—Å. –ï—Å–ª–∏ –¥–∞—Ç—á–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π –ø–æ–ª–∑—É–Ω–æ–∫.
          </div>

          <div class="slider">
            <input id="headingSlider" type="range" min="0" max="359" value="0">
            <div class="slider-ends"><span>0¬∞</span><span>359¬∞</span></div>
          </div>

          <div class="btnrow">
            <button class="btn" id="btnSensors">–î–∞—Ç—á–∏–∫–∏</button>
            <button class="btn ghost" id="btnGeo2">–õ–æ–∫–∞—Ü–∏—è</button>
          </div>
        </div>
      </section>

    </main>

    <!-- BOTTOM TABS -->
    <nav class="tabs">
      <button class="tab active" id="tabPrayers">–í—Ä–µ–º—è –º–æ–ª–∏—Ç–≤</button>
      <button class="tab" id="tabQibla">–ö–∏–±–ª–∞</button>
    </nav>

    <!-- MENU MODAL -->
    <div class="modal" id="menuModal" aria-hidden="true">
      <div class="backdrop" data-close="menuModal"></div>
      <div class="sheet">
        <div class="sheet-title">–ú–µ–Ω—é</div>

        <button class="sheet-item" id="mFeedback">‚úâÔ∏è –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</button>
        <button class="sheet-item" id="mRate">‚≠ê –û—Ü–µ–Ω–∏—Ç—å –Ω–∞—Å</button>
        <button class="sheet-item" id="mShare">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        <button class="sheet-item" id="mPrivacy">üìú –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</button>

        <div class="sheet-actions">
          <button class="btn ghost" data-close="menuModal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- SETTINGS MODAL -->
    <div class="modal" id="settingsModal" aria-hidden="true">
      <div class="backdrop" data-close="settingsModal"></div>
      <div class="sheet">
        <div class="sheet-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>

        <button class="sheet-item withsub" id="sNotif">
          <div>
            <div class="main">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–æ –º–æ–ª–∏—Ç–≤—ã</div>
            <div class="sub" id="sNotifVal">–ó–∞ 10 –º–∏–Ω</div>
          </div>
          <div class="chev">‚Ä∫</div>
        </button>

        <button class="sheet-item withsub" id="sMode">
          <div>
            <div class="main">–†–µ–∂–∏–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>
            <div class="sub" id="sModeVal">–ó–≤—É–∫</div>
          </div>
          <div class="chev">‚Ä∫</div>
        </button>

        <button class="sheet-item withsub" id="sSound">
          <div>
            <div class="main">–ó–≤—É–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
            <div class="sub" id="sSoundVal">Alien</div>
          </div>
          <div class="chev">‚Ä∫</div>
        </button>

        <button class="sheet-item withsub" id="sPerm">
          <div>
            <div class="main">–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
            <div class="sub" id="sPermVal">–ù–µ –∑–∞–ø—Ä–æ—à–µ–Ω–æ</div>
          </div>
          <div class="chev">‚Ä∫</div>
        </button>

        <div class="sheet-actions">
          <button class="btn ghost" data-close="settingsModal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- OFFSET MODAL -->
    <div class="modal" id="offsetModal" aria-hidden="true">
      <div class="backdrop" data-close="offsetModal"></div>
      <div class="sheet">
        <div class="sheet-title">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä–µ–º—è</div>

        <div class="offset-name" id="offName">‚Äî</div>
        <div class="offset-row">
          <div class="k">–°–º–µ—â–µ–Ω–∏–µ:</div>
          <div class="v"><span id="offVal">0</span> –º–∏–Ω</div>
        </div>
        <div class="offset-final">
          –ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è: <span id="offFinal">--:--</span>
        </div>

        <div class="btnrow">
          <button class="btn ghost" id="offMinus">-5 –º–∏–Ω</button>
          <button class="btn" id="offPlus">+5 –º–∏–Ω</button>
        </div>

        <div class="btnrow">
          <button class="btn ghost" id="offReset">–°–±—Ä–æ—Å–∏—Ç—å</button>
          <button class="btn ghost" data-close="offsetModal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- PICKER MODAL -->
    <div class="modal" id="pickerModal" aria-hidden="true">
      <div class="backdrop" data-close="pickerModal"></div>
      <div class="sheet">
        <div class="sheet-title" id="pickerTitle">–í—ã–±–æ—Ä</div>
        <div class="picker" id="pickerList"></div>
        <div class="sheet-actions">
          <button class="btn ghost" data-close="pickerModal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>

  </div>

  <script src="game.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js").catch(()=>{});
    }
  </script>
</body>
</html>
